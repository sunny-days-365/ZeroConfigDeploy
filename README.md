## 各種ドキュメント

本アプリにおいて、開発のためのドキュメントはdocディレクトリのしたに格納している。
doc以下の各種ドキュメントに関して、ドキュメント内容を以下に整理する。

| フォルダ | ファイル名                    | メモ                                                                                                                                                                                                     |
| -------- | ----------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 開発環境 |                               |                                                                                                                                                                                                          |
|          | ビルド方法.xlsx               | アプリをビルドしてAWS環境に配置するための方法が書かれています。                                                                                                                                          |
|          | 開発環境起動方法.xlsx         | 開発環境の起動方法が書かれています。                                                                                                                                                                     |
| 開発資料 |                               |                                                                                                                                                                                                          |
|          | modeus関係.xlsx               | このアプリケーションでは、modusコンポーネントが使われています。angulerから、コンポーネントをバインドするための概要が書かれています。                                                                     |
|          | エラー処理.xlsx               | エラーをハンドリングする方法が書かれていまする                                                                                                                                                           |
|          | サブ画面表示制御.xlsx         | このアプリケーションは複数のサブ画面から構成されています。各サブ画面の構成と制御方法が書かれています。                                                                                                   |
|          | システム構造.xlsx             | アプリケーションを構成する各種ライブラリなどの情報が書かれています。                                                                                                                                     |
|          | ファイル構造とストア構造.xlsx | アプリケーションを構成するファイルとストアの構成が書かれています。                                                                                                                                       |
|          | リフレッシュトークン.xlsx     | リフレッシュトークンの更新制御関して書かれています。                                                                                                                                                     |
|          | ロギング.xlsx                 | ロギングの制御に関して書かれています。                                                                                                                                                                   |
|          | 自動テスト.xlsx               | 自動テストの範囲と、実装例について書かれています。                                                                                                                                                       |
|          | 3d-view関係.xlsx              | Trimble Connect Workspace APIとSオケシステムの連携制御に関して書かれています。                                                                                                                           |
|          | ロカールストレージ.xlsx       | 一時的に値を覚えておきたい時に使用するローカルストレージの処理が書かれています。NTコマンド系などは、ここでサンプル実装している「間引き」処理を実装テンプレートとして使って頂くと早く作れるかと思います。 |

---

## 前提とする環境

対象とする NodeJs のバージョンは以下となります。

`v18.15.0`

## 開発実行

開発用の環境は以下コマンドで実行する事が出来ます。

`npm start`

開発環境の待機する IP、ポートは

`package.json`

の以下内容で調整してください。

`ng serve --host 0.0.0.0 --port 8080`

## lint

以下内容でリンターを追加しています。

[Angular のプロジェクトに ESLint と Prettier を導入してみる](https://qiita.com/Nkot117/items/712cb5600f19b69ce02f)

プロジェクトのコミット前に以下コマンドを実行して、
エラーを排除して、フォーマットをかけてからコミットしてください。

`npm run lint-fix`

## リリースビルド

リリースビルドは以下コマンドで実施する。
今回のシステムでは、システムの実行パスは ntcloud 配下に配置されます。
このため、ビルドコマンドを調整しベースパスを以下のように変更することが必要となります。

`npx ng build --base-href=/ntcloud/`

アプリケーションの実行に際して、実行設定を切り替える必要があります。
実行設定は以下パスに配置してください。

`src\environments\environment.ts`

作成済みの設定ファイルは、以下に配置します。

`src\environments\settings\*`
