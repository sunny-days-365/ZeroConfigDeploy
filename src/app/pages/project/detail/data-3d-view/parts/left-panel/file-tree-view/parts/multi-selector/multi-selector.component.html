<div class="multi-selector">
  <div class="multi-selector__label" (click)="toggleExpand()">
    <span class="multi-selector__label__text">{{
      getSelectedOptionsLabel()
    }}</span>
    <span
      *ngIf="getSelectedOptionsPlusCount() !== ''"
      class="multi-selector__label__plus-count"
    >
      {{ getSelectedOptionsPlusCount() }}
    </span>
    <i class="modus-icons" aria-hidden="true">caret_down</i>
  </div>

  <div
    class="multi-selector__menu"
    [ngClass]="{
      expanded: expanded,
      right_component: isRight
    }"
  >
    <div class="multi-selector__menu__list">
      <div *ngFor="let option of options; let i = index">
        <ntc-modus-checkbox
          [label]="option"
          [ngClass]="{ 'bold-label': isChecked(i) }"
          [checked]="isChecked(i)"
          (checkboxClick)="onOptionSelect(i)"
          class="multi-selector__menu__checkbox"
        ></ntc-modus-checkbox>
      </div>

      <ntc-modus-checkbox
        *ngIf="showBlankItemCheckbox"
        [label]="blankItemCheckboxLabel"
        [checked]="showBlankItem"
        (checkboxClick)="toggleBlankItem()"
      ></ntc-modus-checkbox>
    </div>

    <div>
      <div class="multi-selector__menu__separator"></div>
      <modus-button
        button-style="borderless"
        color="primary"
        (buttonClick)="clearSelection()"
        >クリアー</modus-button
      >
    </div>
  </div>

  <div
    *ngIf="expanded"
    class="multi-selector__backdrop"
    (click)="expanded = false"
  ></div>
</div>
